<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // var date = new Date();
        // console.log(date)
        // //2020-07-16 16:32:08
        // function formatDate(date) {
        //     //1:确认数据结构是什么
        //     var str = 'YYYY-MM-DD HH:FF:SS'
        //     //2:获取具体的年月时分秒；替换结构字符串
        //     console.log(date)
        //     var time = {
        //         'Y+': date.getFullYear(), //持续匹配Y知道遇到不是Y的
        //         'M+': date.getMonth() + 1,
        //         'D+': date.getDate(),
        //         "H+": date.getHours(),
        //         'F+': date.getMinutes(),
        //         "S+": date.getSeconds()
        //     }
        //     // console.log(time)

        //     //3把str字符 替换为 时间  YYYY---2020...
        //     //3.1如何获取正则匹配的YYYY ----> Regxp.$1
        //     //3.2 完成替换 replace(RegExp.$1, newVal)
        //     for (var x in time) {
        //         var reg = new RegExp(`(${x})`)  //./(Y+)/ 创建一个正则对象
        //         if (reg.test(str)) { //匹配是否满足对象的字符串
        //             //把匹配到的内容替换为 时间
        //             var newVal = time[x] > 10?time[x]:'0'+time[x]
        //             str = str.replace(RegExp.$1, newVal)
        //         }
        //     }
        //     console.log(str)
        //     return str
        // }

        // var res = formatDate(date);
        // console.log(res) //2020-07-16 16:32:08



        //新增需求 日期格式不确定的
        //2020-01-01 16:12:11 2020/02/10 16:12:17
        formatDate()
        function formatDate(date, str) {
            var res = str;
            var time = {
                "Y+": date.getFullYear(),
                "M+": date.getMonth() + 1,
                "D+": date.getDate(),
                "H+": date.getHours(),
                "F+": date.getMinutes(),
                "S+": date.getSeconds(),
            };
            for (var x in time) {
                var reg = new RegExp(`(${x})`); //  ./(Y+)/ 创建一个正则对象
                if (reg.test(res)){             
                    // 把匹配到内容替换为 时间
                    var newVal = time[x] >= 10 ? time[x] : "0" + time[x];

                    res = res.replace(RegExp.$1, newVal);
                }
            }

            return res;
        }
        var res = formatDate(new Date(), "YYYY.MM.DD HH:FF:SS");
    </script>

    <script>
        Date.prototype.format = function (str) {
            var res = str;
            var time = {
                "Y+": this.getFullYear(),
                "M+": this.getMonth() + 1,
                "D+": this.getDate(),
                "H+": this.getHours(),
                "F+": this.getMinutes(),
                "S+": this.getSeconds(),
                // "-": "."
            };

            for (var x in time) {
                var reg = new RegExp(`(${x})`); //  ./(Y+)/
                if (reg.test(res)) { //test返回的是true或false
                    // 把匹配到内容替换为 时间
                    var newVal = time[x] >= 10 ? time[x] : "0" + time[x];

                    res = res.replace(RegExp.$1, newVal);
                    'YYYY-MM-DD'
                }
            }

            return res;
        };

        // 需求 format 最为时间对象下的API
        var a = new Date();
        a = a.format("YYYY.MM.DD HH:FF:SS");
        console.log(a, '==============');



        // var data = new Date();

        // Date.prototype.AAA = function () {
        //     console.log('aaaa')
        // }
        // data.AAA();
    </script>
</body>

</html>