<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1>小白111111111111111111111</h1>
    <h1>小白2</h1>
    <h1>小白3</h1>
    <h1>小白4</h1>
    <h1>小白5</h1>
    <script>
        var h1s = document.getElementsByTagName('h1');
        for (var i = 0; i < h1s.length; i++) {

            console.log(h1s[i])
            h1s[i].onclick = function () {
                //坑 btn[i] 不存在 因为异步 i = 5 这里程序比全局for还慢 所以全局i = 5
                console.log(i,this)    //this指向h1
                // 需求：找到被点击的元素 ----->this
                this.style.color = 'blue'
            }
        }


        // 第二个功能  闭包
        var h1s = document.getElementsByTagName('h1');
        // for(var i =0;i<h1s.length;i++){
        //     (function(){
        //         var flag = true;
        //         var x = i;  //解决 变量污染 全局i = 5   var i = i i就不往上找了 直接就是undefined
        //         h1s[i].onclick = function(){    //里面的还是异步
        //             flag?(h1s[x].style.color = 'blue') : (h1s[x].style.color='black')  //h1s[i]的话 就直接取外面的i 立即执行函数就没用了
        //             flag = !flag;
        //         }

        //     })()
        // }
       // console.log(i)

        for(var i = 0;i<h1s.length;i++){
            h1s[i].i = i; //给h1s添加i属性 key：value： h1s[0].i = 0
            h1s[i].flag = false;
            h1s[i].onclick = function(){
                this.flag ?(h1s[this.i].style.color = 'blue'):(h1s[this.i].style.color = '');
                this.flag = !this.flag
            }
        }
    </script>
</body>

</html>